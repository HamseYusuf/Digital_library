{% extends 'lab/base.html' %}

{% block content %}
<div class="flex justify-center">
    <div class="max-w-3xl">
        <form action="{% url 'search' %}" method="GET">
            <select name="category">
                <option value="all">All</option>
                <option value="author">Author</option>
                <option value="title">Title</option>
                <option value="summary">Summary</option>
                <option value="category">Category</option>
                <option value="department">Department</option>
                <option value="subcategory">Subcategory</option>
            </select>
            <input type="text" name="query" placeholder="Search books" value="{{ query }}">
            <button type="submit">Search</button>
        </form>
        {% if books %}
            <h2>Search Results for "{{ query }}"</h2>
            <ul>
                {% for book in books %}
                    <li>{{ book.book_title }}</li>
                {% endfor %}
            </ul>
        {% else %}
            <p>No results found.</p>
        {% endif %}
    </div>
</div>
{% endblock %}